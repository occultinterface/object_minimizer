<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <p id='main-text'></p>
    <button id='yes' class='button--answer'>Yes</button><button id='no' class='button--answer'>No</button>
    <script>
        console.log('it works');

        const answers = document.querySelectorAll('.button--answer');
        const words = document.querySelector('#main-text');

        //Text to be displayed on the page: 
        const questions = [
            'Do you use it?',
            'Do you recall the last time when?',
            'Was it less than 3 months ago?',
        ]

        const eliminators = [
            'If you die tomorrow, will you leave it to someone?',
            'Are you willing to carry it until you die?',
        ]

        const conclusions = [
            'Let it go',
            'Keep it',
        ]

        const arrays = [
            questions,
            eliminators,
            conclusions
        ]




        // Function that displays the correct text according to user's answer.

        let arrayIndex = 0;
        let index = 0;
        let currentArray = arrays[arrayIndex];
        let display = currentArray[index];
        words.textContent = `${display}`;

        function handleAnswer(e) {
            const answer = e.currentTarget.id;

            let lastArray = currentArray;

            let yesLimit = lastArray.length - 1;

            if (answer == 'yes' && index < yesLimit) {
                index++;
            } else if (answer == 'no') {
                index = 0;
                arrayIndex++;
            } else {
                index = 1;
                arrayIndex = 2;
            }

            currentArray = arrays[arrayIndex];
            display = currentArray[index];
            words.textContent = `${display}`;


            console.log(`Array Index: ${arrayIndex}`);
            console.log(`index: ${index}`);
            console.log(currentArray);
            console.log(currentArray[index]);
            console.log(`----------`);
        }

        handleClick = function (e) {
            e.addEventListener('click', handleAnswer);
        }



        answers.forEach(handleClick);
    </script>

</body>

</html>